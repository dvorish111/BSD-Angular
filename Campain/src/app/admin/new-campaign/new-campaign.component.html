
<div class="new-compain-wrapper">
    <div class="container" dir="rtl">
        <div class="row  justify-content-center new-compain">
            <div class="col-7 pb-5 mt-5">
              <div class="text-center new-compain-p d-flex align-items-center justify-content-center mb-4">
                <p class="mb-0">באפשרותך ליצא לקובץ אקסל את הנתונים</p>
              </div>
                <div class=" d-flex justify-content-center ">
                    <button class="exportLists m-4 me-0 px-2"  (click)="downloadDonatesCSV()">יצוא רשימת נתרמים</button>
                    <button class="exportLists m-4 px-2 ms-0" (click)="downloadDonationsCSV()">יצוא רשימת תרומות</button>
                </div>
                <div class="text-center mt-3">
                    <button class="px-3 new-compain-button" (click)="openConfirmationDialog()">יצירת קמפיין חדש </button>
                </div>
            </div>
       
   

    <div class="row justify-content-center" *ngIf="createCampainOk">
      <div class="col-md-6 col-lg-5 col-xl-4">
          <div class="form-default form-layout-01">
              <div *ngIf="!dataLoaded">
                  <p>טוען נתונים...</p>
              </div>
              <!-- <form (ngSubmit)="saveUser(refUserForm)" #myForm="ngForm" #refUserForm> -->
                  <form (ngSubmit)="onSubmit()" #campaignForm="ngForm" *ngIf="dataLoaded">
              

                  <div class="form-group my-4">
                      <label class="mb-2 label" for="name">שם הקמפיין: * </label>
                      <input id="name" name="name" [(ngModel)]="campaign.name" #name='ngModel' type="text"
                          maxlength="40" required pattern="[A-Za-zא-ת]+" class="form-control p-2" />
                      <p class="formIntegrity" *ngIf="name.touched&&name.errors?.['required']">name is required.</p>
                      <p class="formIntegrity" *ngIf="name.touched&&name.errors?.['pattern']">name includs only
                          letters</p>
                  </div>

                  <div class="form-group my-4">
                      <label class="mb-2 label" for="amount">יעד הקמפיין: * </label>
                      <input id="amount" name="amount" [(ngModel)]="campaign.goul" #amount="ngModel" type="number"
                         required  class="form-control p-2" />
                      <p class="formIntegrity" *ngIf="amount.touched&&amount.errors?.['required']">amount is required.</p>
                     
                  </div>

                  <div class="form-group my-4">
                      <label class="mb-2 label" for="start_date">תאריך התחלה *</label>
                      <input type="datetime-local" class="form-control p-2" id="start_date" name="start_date" #date="ngModel" value="campaign?.startDate" [(ngModel)]="campaign.startDate" required>
                      <p class="formIntegrity" *ngIf="date.touched&&date.errors?.['required']">date is required.</p>
                  
                  </div>
                  <div class="form-group my-4">
                      <label class="mb-2 label" for="end_date">תאריך סיום *</label>
                      <input type="datetime-local" class="form-control p-2" id="end_date" name="end_date" #end_date="ngModel" [(ngModel)]="campaign.endDate" required>
                      <p class="formIntegrity" *ngIf="end_date.touched&&end_date.errors?.['required']">date is required.</p>
                  
                  </div>

                  <div class="text-center d-flex justify-content-center">

                      <button type="submit" class="update-button px-5 py-2 mb-5" [disabled]="campaignForm.invalid">יצירת קמפין</button>
                  </div>

              </form>
          </div>


      </div>
  </div>
 </div>
 </div>
</div>



<!-- <div class="new-compain-wrapper">
    <div class="container" dir="rtl">
      <div class="row  justify-content-center new-compain">
        <div class="col-8  p-5 ">
          <div class="text-center">
            <p>באפשרותך ליצא לקובץ אקסל את הנתונים</p>
          </div>
          <div class="items-center d-flex justify-content-center">
            <button>יצוא רשימת נתרמים</button>
            <button>יצוא רשימת תרומות</button>
          </div>
        </div>
      </div>
    </div>
  </div> -->